Одне з переваг GitLab — наявність безлічі вбудованих інструментів. Тут і CI/CD, і сховища артефактів, і реєстр для пакетів та образів. Але нерідкі ситуації, коли нам потрібно використовувати додаткове рішення, яке дублює функціонал GitLab. Одне з таких рішень — Sonatype Nexus.

Nexus використовується як артефакторій для різного роду речей: тут є репозиторії пакетів для PyPI, Maven, Compose і Helm, а також Docker Registry. У деяких компаніях використовується кілька незалежних Nexus, розділених за логікою використання. Наприклад, Nexus для CI містить усі бібліотеки та вихідні Docker-образи, необхідні на етапі збірки дистрибутиву; Nexus для CD зберігає артефакти, необхідні для розгортання середовища.

Сьогодні вас [запросили на проєкт](https://gitfront.io/r/deusops/cgQdYMe4m1V1/django-girls-wo-docker/), де планується використовувати сценарій із зберіганням фінального образу в Nexus. Однак як первинне розміщення Docker-образів команда вирішила залишити наявний реєстр у GitLab. Отже, освіжимо наші знання та приступимо до роботи!

##### **Документація:**
- [Документація з Docker](https://gitlab.com/deusops/lessons/documentation/docker)
- [Документація з GitLab](https://gitlab.com/deusops/lessons/documentation/gitlab-ci)
- [Nexus: установка, запуск, деплой у репозиторій + nginx та SSL](https://rtfm.co.ua/nexus-ustanovka-zapusk-deploj-v-repozitorij-nginx-i-ssl/)
- [Встановлення Sonatype Nexus з SSL](https://habr.com/ru/company/first/blog/661465/)
- [Nexus: офіційна документація](https://help.sonatype.com/repomanager3)

##### **Контрольні точки:**
- Написати Dockerfile для проєкту
- Запустити Sonatype Nexus у Docker: створити обліковий запис, репозиторій для Docker-образів та налаштувати volume для збереження даних
- Написати `docker-compose.yml`, що піднімає налаштований і готовий до роботи Nexus
- Написати pipeline GitLab CI зі збіркою образу, публікацією його в GitLab Registry та перепублікацією образу з GitLab Registry у власний Nexus Docker Registry
- Створити другий репозиторій Docker-образів у Nexus для зберігання базових образів та переналаштувати його на зберігання базових образів із нашого Nexus
- Додати крок із розгортанням і подальшим оновленням застосунку на сервері — застосунок має завантажуватися з нашого Nexus
